<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Nuevo préstamo</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <style>
            body {
                background-color: #f8f9fa;
            }
            .card-header {
                background-color: #007bff;
                color: white;
                font-size: 1.25rem;
                padding: 10px;
            }
            .card {
                margin-bottom: 20px;
            }
            .card-body {
                padding: 20px;
            }
            .btn-primary {
                background-color: #007bff;
                border-color: #007bff;
            }
            .btn-secondary {
                background-color: #6c757d;
                border-color: #6c757d;
            }
            .text-center {
                text-align: center;
            }
            .mb-4 {
                margin-bottom: 20px;
            }
            .form-label {
                font-weight: bold;
            }
            .btn-spacing {
                margin-right: 20px;
            }
        </style>
    </head>
    <body>
        <div class="container mt-4">
            <!-- Card para Nuevo Préstamo -->
            <div class="card">
                <div class="card-header">
                    <h2>Nuevo Préstamo</h2>
                </div>
                <div class="card-body">
                    <!-- Errores de validación -->
                    <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

                    <!-- Formulario -->
                    <form th:action="@{/prestamos/guardar}" th:object="${prestamo}" method="post" class="needs-validation" novalidate>
                        <!-- Selección de libro -->
                        <div class="mb-3">
                            <label for="libro" class="form-label">Libro</label>
                            <select id="libro" name="libro" class="form-select" th:field="*{libro}" required>
                                <option th:each="libro : ${libros}" th:value="${libro.id}" th:text="${libro.titulo}">Selecciona un libro</option>
                            </select>
                        </div>
                    
                        <!-- Selección de usuario -->
                        <div class="mb-3">
                            <label for="usuario" class="form-label">Usuario</label>
                            <select id="usuario" name="usuario" class="form-select" th:field="*{usuario}" required>
                                <option th:each="usuario : ${usuarios}" th:value="${usuario.id}" th:text="${usuario.nombre}">Selecciona un usuario</option>
                            </select>
                        </div>

                        <!-- Selección de Fecha de préstamo -->
                        <div class="mb-3">
                            <label for="fechaPrestamo" class="form-label">Fecha de Préstamo</label>
                            <input type="date" id="fechaPrestamo" name="fechaPrestamo" class="form-control" th:field="*{fechaPrestamo}" required> 
                        </div>

                        <!-- Botones Guardar y Cancelar -->
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary mb-2 btn-spacing">
                                <i class="fas fa-save"></i> Guardar
                            </button>
                            <a href="/prestamos" class="btn btn-secondary mb-2">
                                <i class="fas fa-arrow-left"></i> Cancelar
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>